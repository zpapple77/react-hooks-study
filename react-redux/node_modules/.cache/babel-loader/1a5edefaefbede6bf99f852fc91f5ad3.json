{"ast":null,"code":"//提供todos相关的action\nimport axios from 'axios'; //获取任务列表\n\nexport const getListAsync = () => {\n  return async dispatch => {\n    //发送请求\n    const res = await axios.get('http://localhost:8888/todos');\n    console.log(res.data);\n    dispatch({\n      type: 'GET_LIST',\n      payload: res.data\n    });\n  };\n}; //添加任务\n\nexport const addTodo = name => {\n  return async dispatch => {\n    const res = await axios.post('http://localhost:8888/todos', {\n      name,\n      done: false\n    }); // dispatch(getListAsync())第一种做法\n\n    dispatch({\n      type: 'ADD_TODO',\n      payload: res.data\n    });\n  };\n};\nexport const delTodo = id => {\n  return async dispatch => {\n    //处理异步\n    await axios.delete(`http://localhost:8888/todos/${id}`);\n    dispatch({\n      type: 'DEL_TODO',\n      payload: id\n    });\n  };\n};\nexport const changeDone = id => {\n  return async dispatch => {\n    //发送请求\n    await axios.patch(`http://localhost:8888/todos/${id}`, {});\n  };\n};","map":{"version":3,"sources":["D:/1代码/hmreact/react-hooks/react-redux/src/store/actions/todos.js"],"names":["axios","getListAsync","dispatch","res","get","console","log","data","type","payload","addTodo","name","post","done","delTodo","id","delete","changeDone","patch"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,MAAMC,YAAY,GAAG,MAAM;AAChC,SAAO,MAAOC,QAAP,IAAoB;AACzB;AACA,UAAMC,GAAG,GAAG,MAAMH,KAAK,CAACI,GAAN,CAAU,6BAAV,CAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;AACAL,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAC,UADE;AAEPC,MAAAA,OAAO,EAACN,GAAG,CAACI;AAFL,KAAD,CAAR;AAID,GARD;AASD,CAVM,C,CAYP;;AACA,OAAO,MAAMG,OAAO,GAAGC,IAAI,IAAE;AAC3B,SAAO,MAAMT,QAAN,IAAgB;AACrB,UAAMC,GAAG,GAAG,MAAMH,KAAK,CAACY,IAAN,CAAW,6BAAX,EAAyC;AACzDD,MAAAA,IADyD;AAEzDE,MAAAA,IAAI,EAAC;AAFoD,KAAzC,CAAlB,CADqB,CAKrB;;AACAX,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAC,UADE;AAEPC,MAAAA,OAAO,EAACN,GAAG,CAACI;AAFL,KAAD,CAAR;AAID,GAVD;AAWD,CAZM;AAcP,OAAO,MAAMO,OAAO,GAAIC,EAAD,IAAQ;AAC7B,SAAO,MAAMb,QAAN,IAAgB;AACrB;AACA,UAAMF,KAAK,CAACgB,MAAN,CAAc,+BAA8BD,EAAG,EAA/C,CAAN;AACAb,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAC,UADE;AAEPC,MAAAA,OAAO,EAACM;AAFD,KAAD,CAAR;AAID,GAPD;AAQD,CATM;AAWP,OAAO,MAAME,UAAU,GAAIF,EAAD,IAAM;AAC9B,SAAO,MAAMb,QAAN,IAAgB;AACrB;AACA,UAAMF,KAAK,CAACkB,KAAN,CAAa,+BAA8BH,EAAG,EAA9C,EAAgD,EAAhD,CAAN;AACD,GAHD;AAID,CALM","sourcesContent":["//提供todos相关的action\r\nimport axios from 'axios'\r\n//获取任务列表\r\nexport const getListAsync = () => {\r\n  return async (dispatch) => {\r\n    //发送请求\r\n    const res = await axios.get('http://localhost:8888/todos')\r\n    console.log(res.data);\r\n    dispatch({\r\n      type:'GET_LIST',\r\n      payload:res.data \r\n    })\r\n  }\r\n}\r\n\r\n//添加任务\r\nexport const addTodo = name=>{\r\n  return async dispatch=>{\r\n    const res = await axios.post('http://localhost:8888/todos',{\r\n      name,\r\n      done:false\r\n    })\r\n    // dispatch(getListAsync())第一种做法\r\n    dispatch({\r\n      type:'ADD_TODO',\r\n      payload:res.data\r\n    })\r\n  }\r\n}\r\n\r\nexport const delTodo = (id) => {\r\n  return async dispatch=>{\r\n    //处理异步\r\n    await axios.delete(`http://localhost:8888/todos/${id}`)\r\n    dispatch({\r\n      type:'DEL_TODO',\r\n      payload:id\r\n    })\r\n  }\r\n}\r\n\r\nexport const changeDone = (id)=>{\r\n  return async dispatch=>{\r\n    //发送请求\r\n    await axios.patch(`http://localhost:8888/todos/${id}`,{})\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}